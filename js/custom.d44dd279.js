"use strict";(self["webpackChunkkino_cms"]=self["webpackChunkkino_cms"]||[]).push([[289],{89:function(a,e){e.Z=(a,e)=>{const t=a.__vccOpts||a;for(const[s,i]of e)t[s]=i;return t}},2660:function(a,e,t){t.d(e,{T:function(){return n}});t(7658);var s=t(1020),i=t(7329),l=t(36),g=t(1294);const n=(0,s.Q_)({id:"Pages",state:()=>({loading:!1,pagesList:[],showModal:!1,uploaded:!1}),actions:{async getPages(){this.loading=!0,this.pagesList=[];const a=await(0,l.PL)((0,l.hJ)(i.db,"pages"));a.forEach((a=>{a.id.includes("contacts")||a.id.includes("home")||a.id.includes("movies")||a.id.includes("schedule")||a.id.includes("upcoming")||a.id.includes("cinemas")||a.id.includes("specials")||a.id.includes("news")?this.pagesList.push({id:this.pagesList.length,name:a.id,uploaded:!0,creationDate:a.data().creationDate,status:a.data().status,language:a.data().language,routeName:a.data().routeName,data:a.data().data}):this.pagesList.push({id:this.pagesList.length,name:a.id,uploaded:!0,creationDate:a.data().creationDate,status:a.data().status,language:a.data().language,routeName:a.data().routeName,data:a.data().data,images:[{main:{name:a.data().data[0].main.name,image:null,url:a.data().data[0].main.url,uploaded:!0},gallery:[],deleted:[]},{main:{name:a.data().data[1].main.name,image:null,url:a.data().data[1].main.url,uploaded:!0},gallery:[],deleted:[]}]})})),this.pagesList.forEach((a=>{a.name.includes("page")||(a.id="default");for(let e=0;e<a.data.length;e++)if(a.data[e].gallery)for(let t=0;t<a.data[e].gallery.length;t++)a.images[e].gallery.push({id:a.images[e].gallery.length,name:a.data[e].gallery[t].name,uploaded:!0,image:null,url:a.data[e].gallery[t].url})})),this.loading=!1},async deletePage(a){if(this.showModal=!1,this.loading=!0,this.pagesList[a].uploaded){await(0,l.oe)((0,l.JU)(i.db,"pages",this.pagesList[a].name));for(let e=0;e<this.pagesList[a].images.length;e++){if(null!==this.pagesList[a].images[e].main.name){const t=(0,g.iH)(i.tO,"pages/main/"+this.pagesList[a].images[e].main.name);await(0,g.oq)(t).catch((a=>{console.error(a)}))}if(0!==this.pagesList[a].images[e].gallery.length)for(let t=0;t<this.pagesList[a].images[e].gallery.length;t++){const s=(0,g.iH)(i.tO,"pages/gallery/"+this.pagesList[a].images[e].gallery[t].name);await(0,g.oq)(s).catch((a=>{console.error(a)}))}if(0!==this.pagesList[a].images[e].deleted.length)for(let t=0;t<this.pagesList[a].images[e].deleted.length;t++){const s=(0,g.iH)(i.tO,"pages/gallery/"+this.pagesList[a].images[e].deleted[t].name);await(0,g.oq)(s).catch((a=>{console.error(a)}))}}}this.pagesList.splice(a,1);for(let e=0;e<this.pagesList.length;e++)this.pagesList[e].id!==e&&"default"!==this.pagesList[e].id&&(this.pagesList[e].id=e);this.loading=!1},async uploadPage(a){if(this.loading=!0,this.uploaded=!1,this.pagesList[a].images){for(let t=0;t<this.pagesList[a].images.length;t++){if(null!==this.pagesList[a].images[t].main.image)try{const e=(0,g.iH)(i.tO,"pages/main/"+this.pagesList[a].images[t].main.name);await(0,g.KV)(e,this.pagesList[a].images[t].main.image).then((async()=>{await(0,g.Jt)(e).then((e=>{this.pagesList[a].data[t].main.url=e}))}))}catch(e){console.error("Error uploading image: ",e)}if(0!==this.pagesList[a].images[t].deleted.length)for(let e=0;e<this.pagesList[a].images[t].deleted.length;e++){const s=(0,g.iH)(i.tO,"pages/gallery/"+this.pagesList[a].images[t].deleted[e]);await(0,g.oq)(s).then((()=>{this.pagesList[a].images[t].deleted.splice(e,1)})).catch((a=>{console.error(a)}))}if(0!==this.pagesList[a].images[t].gallery.length)for(let s=0;s<this.pagesList[a].images[t].gallery.length;s++)if(null!==this.pagesList[a].images[t].gallery[s].image)try{const e=(0,g.iH)(i.tO,"pages/gallery/"+this.pagesList[a].images[t].gallery[s].name);await(0,g.KV)(e,this.pagesList[a].images[t].gallery[s].image).then((async()=>{await(0,g.Jt)(e).then((e=>{this.pagesList[a].data[t].gallery[s].url=e}))}))}catch(e){console.error("Error uploading image: ",e)}}for(let e=0;e<this.pagesList[a].data.length;e++)for(let t=0;t<this.pagesList[a].data[e].gallery.length;t++)null!==this.pagesList[a].data[e].gallery[t].url&&t===this.pagesList[a].data[e].gallery.length-1&&e===this.pagesList[a].data.length-1&&this.uploadPageData(a)}else this.uploadPageData(a)},async uploadPageData(a){const e={creationDate:this.pagesList[a].creationDate,routeName:this.pagesList[a].routeName,status:this.pagesList[a].status,language:this.pagesList[a].language,data:this.pagesList[a].data};await(0,l.pl)((0,l.JU)(i.db,"pages",this.pagesList[a].name),e).then((()=>{this.loading=!1,this.uploaded=!0}))}}})},144:function(a,e,t){t.d(e,{Z:function(){return m}});var s=t(3396),i=t(7139),l=t(4870),g=t(8040),n=t(9391);const d={class:"gallery"},r={class:"text-center"},o=["src"],u={name:"GallerySwiper"};var c=Object.assign(u,{props:["gallery"],setup(a){const e=(0,l.iH)([n.tl,n.pt,n.W_]);return(t,n)=>((0,s.wg)(),(0,s.iD)("div",d,[(0,s._)("h2",r,(0,i.zw)(t.$t("gallery")),1),(0,s.Wm)((0,l.SU)(g.tq),{"grab-cursor":"","slides-per-view":1,modules:e.value,pagination:{clickable:!0},autoplay:{delay:4e3,disableOnInteraction:!1},navigation:!0},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(a.gallery,((a,e)=>((0,s.wg)(),(0,s.j4)((0,l.SU)(g.o5),{key:e},{default:(0,s.w5)((()=>[(0,s._)("img",{src:a.url,alt:""},null,8,o)])),_:2},1024)))),128))])),_:1},8,["modules"])]))}}),p=t(89);const h=(0,p.Z)(c,[["__scopeId","data-v-3c84ac43"]]);var m=h},3633:function(a,e,t){t.r(e),t.d(e,{default:function(){return S}});var s=t(9242),i=t(3396),l=t(4870),g=t(7139),n=t(2542),d=t(2660),r=t(144);const o=a=>((0,i.dD)("data-v-720b8adf"),a=a(),(0,i.Cn)(),a),u={class:"page mb-5"},c={key:0,class:"page__banner"},p={key:1,class:"container"},h={class:"page__wrapper"},m={class:"text-center mt-4 mb-4"},L={class:"page__content"},y={class:"page__content-description"},f=o((()=>(0,i._)("div",{class:"page__content-ad"},null,-1))),w={key:2,class:"page__notfound"},_=o((()=>(0,i._)("div",{class:"container"},[(0,i._)("h2",null,"Page not found")],-1))),v=[_],b={name:"CustomPage"};var D=Object.assign(b,{props:["title"],setup(a){const e=a;(0,s.useCssVars)((a=>({"5c3ddbda":(0,l.SU)(b)})));const t=(0,n.h)(),o=(0,d.T)(),_=(0,i.Fl)((()=>{let a=null;return o.pagesList.forEach(((t,s)=>{t.data[0].title.toLowerCase().replace(/\s/g,"-")===e.title&&(a=s)})),a})),b=(0,i.Fl)((()=>_.value?`url("${o.pagesList[_.value].images[t.currentLanguage.index].main.url}")`:null)),D=(0,i.Fl)((()=>_.value?o.pagesList[_.value].data[t.currentLanguage.index].title:null)),k=(0,i.Fl)((()=>_.value?o.pagesList[_.value].data[t.currentLanguage.index].description:null)),U=(0,i.Fl)((()=>_.value?o.pagesList[_.value].data[t.currentLanguage.index].gallery:null));return(a,e)=>((0,i.wg)(),(0,i.iD)("div",u,[null!==(0,l.SU)(b)?((0,i.wg)(),(0,i.iD)("div",c)):(0,i.kq)("",!0),null!==(0,l.SU)(_)?((0,i.wg)(),(0,i.iD)("div",p,[(0,i._)("div",h,[(0,i._)("h2",m,(0,g.zw)((0,l.SU)(D)),1),(0,i._)("div",L,[(0,i._)("p",y,(0,g.zw)((0,l.SU)(k)),1),f]),(0,l.SU)(U).length?((0,i.wg)(),(0,i.j4)((0,l.SU)(r.Z),{key:0,gallery:(0,l.SU)(U)},null,8,["gallery"])):(0,i.kq)("",!0)])])):((0,i.wg)(),(0,i.iD)("div",w,v))]))}}),k=t(89);const U=(0,k.Z)(D,[["__scopeId","data-v-720b8adf"]]);var S=U}}]);
//# sourceMappingURL=custom.d44dd279.js.map