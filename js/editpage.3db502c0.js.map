{"version":3,"file":"js/editpage.3db502c0.js","mappings":"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","sources":["webpack://kino-cms/./src/stores/pages.js","webpack://kino-cms/./src/components/admin/ImageGallery.vue","webpack://kino-cms/./src/components/admin/ImageGallery.vue?686f","webpack://kino-cms/./src/components/admin/ImageInput.vue","webpack://kino-cms/./src/components/admin/ImageInput.vue?9044","webpack://kino-cms/./src/components/admin/SeoInputs.vue","webpack://kino-cms/./src/components/admin/SeoInputs.vue?c3be","webpack://kino-cms/./src/components/admin/TheLoading.vue","webpack://kino-cms/./src/components/admin/TheLoading.vue?187b","webpack://kino-cms/./src/pages/admin/AdminPage.vue","webpack://kino-cms/./src/pages/admin/AdminPage.vue?d2f9"],"sourcesContent":["import {defineStore} from 'pinia';\r\nimport {db, storage} from \"@/firebase/firebase\";\r\nimport {collection, deleteDoc, doc, getDocs, setDoc} from \"firebase/firestore\";\r\nimport {deleteObject, getDownloadURL, ref, uploadBytes} from \"firebase/storage\";\r\n// import {useCinemaStore} from \"@/stores/cinemas\";\r\n\r\n\r\n// const cinemaStore = useCinemaStore();\r\n\r\nexport const usePagesStore = defineStore({\r\n    id: \"Pages\",\r\n    state: () => ({\r\n        loading: false,\r\n        pagesList: [],\r\n        showModal: false,\r\n        uploaded: false\r\n    }),\r\n    actions: {\r\n        async getPages() {\r\n            this.loading = true;\r\n            this.pagesList = [];\r\n            const pagesData = await getDocs(collection(db, 'pages'));\r\n            // get pages data\r\n            pagesData.forEach((doc) => {\r\n                if (doc.id.includes('contacts') || doc.id.includes('home') || doc.id.includes('movies') || doc.id.includes('schedule') || doc.id.includes('upcoming') || doc.id.includes('cinemas') || doc.id.includes('specials') || doc.id.includes('news')) {\r\n                    this.pagesList.push({\r\n                        id: this.pagesList.length,\r\n                        name: doc.id,\r\n                        uploaded: true,\r\n                        creationDate: doc.data().creationDate,\r\n                        status: doc.data().status,\r\n                        language: doc.data().language,\r\n                        routeName: doc.data().routeName,\r\n                        data: doc.data().data,\r\n                    });\r\n                }\r\n                else {\r\n                    this.pagesList.push({\r\n                        id: this.pagesList.length,\r\n                        name: doc.id,\r\n                        uploaded: true,\r\n                        creationDate: doc.data().creationDate,\r\n                        status: doc.data().status,\r\n                        language: doc.data().language,\r\n                        routeName: doc.data().routeName,\r\n                        data: doc.data().data,\r\n                        images: [\r\n                            {\r\n                                main: {\r\n                                    name: doc.data().data[0].main.name,\r\n                                    image: null,\r\n                                    url: doc.data().data[0].main.url,\r\n                                    uploaded: true\r\n                                },\r\n                                gallery: [],\r\n                                deleted: []\r\n                            },\r\n                            {\r\n                                main: {\r\n                                    name: doc.data().data[1].main.name,\r\n                                    image: null,\r\n                                    url: doc.data().data[1].main.url,\r\n                                    uploaded: true\r\n                                },\r\n                                gallery: [],\r\n                                deleted: []\r\n                            }\r\n                        ]\r\n                    });\r\n                }\r\n            });\r\n            this.pagesList.forEach((page) => {\r\n                if (!page.name.includes('page')) {\r\n                    page.id = 'default';\r\n                }\r\n                for (let i = 0; i < page.data.length; i++) {\r\n                    // get cinemas for contacts page\r\n                    // if (page.name.includes('contacts')) {\r\n                    //     if (cinemaStore.cinemaList.length > 0) {\r\n                    //         for (let j = 0; j < cinemaStore.cinemaList.length; j++) {\r\n                    //             page.data[i].cinemas.push({\r\n                    //                 name: cinemaStore.cinemaList[j].name,\r\n                    //                 address: '',\r\n                    //                 coordinate: ''\r\n                    //             });\r\n                    //         }\r\n                    //         // remove dublicates\r\n                    //         const uniqueNames = [];\r\n                    //         page.data[i].cinemas = page.data[i].cinemas.filter(element => {\r\n                    //             const isDuplicate = uniqueNames.includes(element.name);\r\n                    //             if (!isDuplicate) {\r\n                    //                 uniqueNames.push(element.name);\r\n                    //                 return true;\r\n                    //             }\r\n                    //             return false;\r\n                    //         });\r\n                    //         // check if cinemas were deleted\r\n                    //         let result = page.data[i].cinemas.filter(o1 => !cinemaStore.cinemaList.some(o2 => o1.name === o2.name));\r\n                    //         for (let j = 0; j < page.data[i].cinemas.length; j++) {\r\n                    //             if (result.length > 0) {\r\n                    //                 for (let k = 0; k < result.length; k++) {\r\n                    //                     if (page.data[i].cinemas[j].name === result[k].name) {\r\n                    //                         page.data[i].cinemas.splice(j, 1);\r\n                    //                     }\r\n                    //                 }\r\n                    //             }\r\n                    //         }\r\n                    //     }\r\n                    //     else {\r\n                    //         page.data[i].cinemas = [];\r\n                    //     }\r\n                    // }\r\n                    // get pages gallery\r\n                    if (page.data[i].gallery) {\r\n                        for (let j = 0; j < page.data[i].gallery.length; j++) {\r\n                            page.images[i].gallery.push({\r\n                                id: page.images[i].gallery.length,\r\n                                name: page.data[i].gallery[j].name,\r\n                                uploaded: true,\r\n                                image: null,\r\n                                url: page.data[i].gallery[j].url\r\n                            });\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n            this.loading = false;\r\n        },\r\n        async deletePage(id) {\r\n            this.showModal = false;\r\n            this.loading = true;\r\n            if (this.pagesList[id].uploaded) {\r\n                // delete data\r\n                await deleteDoc(doc(db, \"pages\", this.pagesList[id].name));\r\n                // delete images\r\n                for (let i = 0; i < this.pagesList[id].images.length; i++) {\r\n                    // delete main image\r\n                    if (this.pagesList[id].images[i].main.name !== null) {\r\n                        const delRef = ref(storage, 'pages/main/' + this.pagesList[id].images[i].main.name);\r\n                        await deleteObject(delRef).catch((error) => {\r\n                            console.error(error);\r\n                        });\r\n                    }\r\n                    // delete images from gallery\r\n                    if (this.pagesList[id].images[i].gallery.length !== 0) {\r\n                        for (let j = 0; j < this.pagesList[id].images[i].gallery.length; j++) {\r\n                            const delRef = ref(storage, 'pages/gallery/' + this.pagesList[id].images[i].gallery[j].name);\r\n                            await deleteObject(delRef).catch((error) => {\r\n                                console.error(error);\r\n                            });\r\n                        }\r\n                    }\r\n                    if (this.pagesList[id].images[i].deleted.length !== 0) {\r\n                        for (let j = 0; j < this.pagesList[id].images[i].deleted.length; j++) {\r\n                            const delRef = ref(storage, 'pages/gallery/' + this.pagesList[id].images[i].deleted[j].name);\r\n                            await deleteObject(delRef).catch((error) => {\r\n                                console.error(error);\r\n                            });\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            this.pagesList.splice(id, 1);\r\n            for (let i = 0; i < this.pagesList.length; i++) {\r\n                if (this.pagesList[i].id !== i && this.pagesList[i].id !== 'default') {\r\n                    this.pagesList[i].id = i;\r\n                }\r\n            }\r\n            this.loading = false;\r\n        },\r\n        async uploadPage(id) {\r\n            this.loading = true;\r\n            this.uploaded = false;\r\n            // upload pages images\r\n            if (this.pagesList[id].images) {\r\n                for (let i = 0; i < this.pagesList[id].images.length; i++) {\r\n                    // upload main image (update if was changed)\r\n                    if (this.pagesList[id].images[i].main.image !== null) {\r\n                        try {\r\n                            const mainRef = ref(storage, \"pages/main/\" + this.pagesList[id].images[i].main.name);\r\n                            await uploadBytes(mainRef, this.pagesList[id].images[i].main.image).then(async () => {\r\n                                await getDownloadURL(mainRef).then((url) => {\r\n                                    this.pagesList[id].data[i].main.url = url;\r\n                                });\r\n                            });\r\n                        } catch (e) {\r\n                            console.error(\"Error uploading image: \", e);\r\n                        }\r\n                    }\r\n                    // delete images from gallery\r\n                    if (this.pagesList[id].images[i].deleted.length !== 0) {\r\n                        for (let j = 0; j < this.pagesList[id].images[i].deleted.length; j++) {\r\n                            const delRef = ref(storage, \"pages/gallery/\" + this.pagesList[id].images[i].deleted[j]);\r\n                            await deleteObject(delRef).then(() => {\r\n                                this.pagesList[id].images[i].deleted.splice(j, 1);\r\n                            }).catch((error) => {\r\n                                console.error(error);\r\n                            });\r\n                        }\r\n                    }\r\n                    // upload images from gallery\r\n                    if (this.pagesList[id].images[i].gallery.length !== 0) {\r\n                        for (let j = 0; j < this.pagesList[id].images[i].gallery.length; j++) {\r\n                            if (this.pagesList[id].images[i].gallery[j].image !== null) {\r\n                                try {\r\n                                    const galleryRef = ref(storage, \"pages/gallery/\" + this.pagesList[id].images[i].gallery[j].name);\r\n                                    await uploadBytes(galleryRef, this.pagesList[id].images[i].gallery[j].image).then(async () => {\r\n                                        await getDownloadURL(galleryRef).then((url) => {\r\n                                            this.pagesList[id].data[i].gallery[j].url = url;\r\n                                        });\r\n                                    });\r\n                                } catch (e) {\r\n                                    console.error(\"Error uploading image: \", e);\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                for (let i = 0; i < this.pagesList[id].data.length; i++) {\r\n                    for (let j = 0; j < this.pagesList[id].data[i].gallery.length; j++) {\r\n                        if (this.pagesList[id].data[i].gallery[j].url !== null && j === this.pagesList[id].data[i].gallery.length-1 && i === this.pagesList[id].data.length-1) {\r\n                            this.uploadPageData(id);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            else {\r\n                this.uploadPageData(id);\r\n            }\r\n        },\r\n        async uploadPageData(id) {\r\n            const docData = {\r\n                creationDate: this.pagesList[id].creationDate,\r\n                routeName: this.pagesList[id].routeName,\r\n                status: this.pagesList[id].status,\r\n                language: this.pagesList[id].language,\r\n                data: this.pagesList[id].data,\r\n            }\r\n            await setDoc(doc(db, \"pages\", this.pagesList[id].name), docData).then(() => {\r\n                this.loading = false;\r\n                this.uploaded = true;\r\n            });\r\n        }\r\n    }\r\n})","<template>\r\n  <div class=\"gallery\">\r\n    <div class=\"gallery__item\" v-for=\"image in gallery\" :key=\"image.id\">\r\n      <img class=\"gallery__item-preview\" :src=\"image.url\" alt=\"\">\r\n      <div class=\"gallery__item-delete\" @click=\"emit('deleteImage', image.id)\">\r\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\r\n          <g transform=\"scale(1.5)\">\r\n            <circle style=\"fill:#f44336\" cx=\"8\" cy=\"8\" r=\"7\"/>\r\n            <rect style=\"fill:#ffffff\" width=\"2\" height=\"10\" x=\"-.98\" y=\"-16.29\" transform=\"rotate(135)\"/>\r\n            <rect style=\"fill:#ffffff\" width=\"2\" height=\"10\" x=\"-12.29\" y=\"-5.01\" transform=\"rotate(-135)\"/>\r\n          </g>\r\n        </svg>\r\n      </div>\r\n    </div>\r\n    <label class=\"gallery__add\">\r\n      <span>\r\n        <svg width=\"40px\" height=\"40px\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n          <path d=\"M8 12H16\" stroke=\"#292D32\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n          <path d=\"M12 16V8\" stroke=\"#292D32\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n          <path d=\"M9 22H15C20 22 22 20 22 15V9C22 4 20 2 15 2H9C4 2 2 4 2 9V15C2 20 4 22 9 22Z\" stroke=\"#292D32\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n        </svg>\r\n      </span>\r\n      <input\r\n          class=\"gallery__input\"\r\n          type=\"file\" multiple=\"multiple\" accept=\"image/*\"\r\n          @change=\"galleryImagesSelected($event)\"\r\n      >\r\n    </label>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\ndefineProps(['gallery']);\r\n\r\nconst emit = defineEmits(['getImage', 'deleteImage'])\r\n\r\nfunction galleryImagesSelected(input) {\r\n  let images = input.target.files;\r\n  for (let i = 0; i < images.length; i++) {\r\n    emit('getImage', images[i]);\r\n  }\r\n}\r\n</script>\r\n\r\n<script>\r\nexport default {\r\n  name: \"ImageGallery\"\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.gallery {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  align-items: center;\r\n  gap: 15px;\r\n}\r\n.gallery__item {\r\n  position: relative;\r\n}\r\n.gallery__item-preview {\r\n  width: 130px;\r\n  height: 80px;\r\n}\r\n.gallery__add {\r\n  cursor: pointer;\r\n}\r\n.gallery__item-delete {\r\n  position: absolute;\r\n  top: -10px;\r\n  right: -10px;\r\n  cursor: pointer;\r\n  z-index: 1;\r\n}\r\n.gallery__input {\r\n  display: none;\r\n}\r\n</style>","import script from \"./ImageGallery.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./ImageGallery.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./ImageGallery.vue?vue&type=style&index=0&id=72d8384d&scoped=true&lang=css\"\n\nimport exportComponent from \"S:\\\\Projects\\\\kino-cms\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-72d8384d\"]])\n\nexport default __exports__","<template>\r\n  <label class=\"image\">\r\n    <img class=\"image__preview\" src=\"@/assets/images/image-icon.png\" alt=\"\" v-if=\"input.url === null\">\r\n    <img class=\"image__preview\" :src=\"input.url\" alt=\"\" v-else>\r\n    <input type=\"file\" class=\"image__input\" accept=\"image/*\" @change=\"imageSelected($event)\" />\r\n  </label>\r\n</template>\r\n\r\n<script setup>\r\ndefineProps(['input'])\r\n\r\nconst emit = defineEmits(['getImage'])\r\n\r\nfunction imageSelected(image) {\r\n  if (image) {\r\n    let file = image.target.files[0];\r\n    emit('getImage', file);\r\n  }\r\n}\r\n</script>\r\n\r\n<script>\r\nexport default {\r\n  name: \"ImageInput\"\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.image__preview {\r\n  max-width: 130px;\r\n}\r\n.image__input {\r\n  display: none;\r\n}\r\n</style>","import script from \"./ImageInput.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./ImageInput.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./ImageInput.vue?vue&type=style&index=0&id=0596ccba&scoped=true&lang=css\"\n\nimport exportComponent from \"S:\\\\Projects\\\\kino-cms\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-0596ccba\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"seo\">\r\n    <p>SEO</p>\r\n    <div class=\"seo__content\">\r\n      <div class=\"seo__content-item\">\r\n        <p>URL</p>\r\n        <input class=\"form-control\" type=\"text\" placeholder=\"URL\" :value=\"url\" @input=\"$emit('update:url', $event.target.value)\">\r\n      </div>\r\n      <div class=\"seo__content-item\">\r\n        <p>Title</p>\r\n        <input class=\"form-control\" type=\"text\" placeholder=\"Title\" :value=\"title\" @input=\"$emit('update:title', $event.target.value)\">\r\n      </div>\r\n      <div class=\"seo__content-item\">\r\n        <p>Keywords</p>\r\n        <input class=\"form-control\" type=\"text\" placeholder=\"Keywords\" :value=\"keywords\" @input=\"$emit('update:keywords', $event.target.value)\">\r\n      </div>\r\n      <div class=\"seo__content-item\">\r\n        <p>Description</p>\r\n        <textarea class=\"form-control\" placeholder=\"Description\" :value=\"description\" @input=\"$emit('update:description', $event.target.value)\"/>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\n\r\ndefineProps(['url', 'title', 'keywords', 'description'])\r\n\r\n</script>\r\n\r\n<script>\r\nexport default {\r\n  name: \"SeoInputs\"\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.seo {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 20px;\r\n  width: 100%;\r\n}\r\n\r\n.seo__content {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 20px;\r\n  width: 100%;\r\n}\r\n.seo__content-item {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 20px;\r\n  width: 100%;\r\n}\r\n\r\n.seo p,\r\n.seo__content-item p {\r\n  min-width: 85px;\r\n}\r\n\r\np {\r\n  margin: 0;\r\n}\r\ninput {\r\n  max-width: 500px;\r\n}\r\n</style>","import script from \"./SeoInputs.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./SeoInputs.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./SeoInputs.vue?vue&type=style&index=0&id=ca697e0a&scoped=true&lang=css\"\n\nimport exportComponent from \"S:\\\\Projects\\\\kino-cms\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-ca697e0a\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"loading\">\r\n    <span></span>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"TheLoading\"\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.loading {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  z-index: 2023;\r\n  height: 100vh;\r\n  background-color: rgba(0, 0, 0, 0.5);\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  animation: spin;\r\n}\r\n@keyframes spin {\r\n  to {\r\n    transform: rotate(360deg);\r\n  }\r\n}\r\n.loading span {\r\n  display: block;\r\n  width: 60px;\r\n  height: 60px;\r\n  margin: 0 auto;\r\n  border: 3px solid transparent;\r\n  border-top-color: #FFFFFF;\r\n  border-bottom-color: #FFFFFF;\r\n  border-radius: 50%;\r\n  animation: spin ease 1000ms infinite;\r\n}\r\n</style>","import { render } from \"./TheLoading.vue?vue&type=template&id=60e77b62&scoped=true\"\nimport script from \"./TheLoading.vue?vue&type=script&lang=js\"\nexport * from \"./TheLoading.vue?vue&type=script&lang=js\"\n\nimport \"./TheLoading.vue?vue&type=style&index=0&id=60e77b62&scoped=true&lang=css\"\n\nimport exportComponent from \"S:\\\\Projects\\\\kino-cms\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-60e77b62\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"page\">\r\n    <TheLoading v-show=\"pagesStore.loading || cinemaStore.loading\" />\r\n    <div class=\"page__controls\">\r\n      <div class=\"page__status\">\r\n        <input type=\"checkbox\" id=\"checkbox\" v-model=\"pagesStore.pagesList[id].status\" />\r\n        <label for=\"checkbox\">{{ pagesStore.pagesList[id].status }}</label>\r\n      </div>\r\n      <div class=\"page__languages\">\r\n        <div class=\"page__languages-radio\">\r\n          <input type=\"radio\" id=\"en\" value=\"en\" v-model=\"pagesStore.pagesList[id].language.selected\">\r\n          <label for=\"en\">en</label>\r\n        </div>\r\n        <div class=\"page__languages-radio\">\r\n          <input type=\"radio\" id=\"ua\" value=\"ua\" v-model=\"pagesStore.pagesList[id].language.selected\">\r\n          <label for=\"ua\">ua</label>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"page__wrapper\">\r\n      <div class=\"page__content\">\r\n        <div class=\"page__content-item\">\r\n          <p>Title</p>\r\n          <input\r\n              class=\"form-control\"\r\n              type=\"text\" placeholder=\"Title\"\r\n              v-model=\"pagesStore.pagesList[id].data[pagesStore.pagesList[id].language.index].title\"\r\n          >\r\n        </div>\r\n        <div class=\"page__content-item\">\r\n          <p>Route name</p>\r\n          <input\r\n              class=\"form-control\"\r\n              type=\"text\" placeholder=\"Route name\"\r\n              v-model=\"pagesStore.pagesList[id].routeName\"\r\n          >\r\n        </div>\r\n\r\n        <div class=\"page__content\" v-if=\"pagesStore.pagesList[id].name.includes('home') \">\r\n          <div class=\"page__content-item phone\">\r\n            <p>Phone number</p>\r\n            <div class=\"phone__inputs\">\r\n              <input\r\n                  class=\"form-control\"\r\n                  type=\"text\" placeholder=\"Phone number\"\r\n                  v-model=\"pagesStore.pagesList[id].data[pagesStore.pagesList[id].language.index].phone[0]\"\r\n              >\r\n              <input\r\n                  class=\"form-control\"\r\n                  type=\"text\" placeholder=\"Phone number\"\r\n                  v-model=\"pagesStore.pagesList[id].data[pagesStore.pagesList[id].language.index].phone[1]\"\r\n              >\r\n            </div>\r\n          </div>\r\n          <div class=\"page__content-item\">\r\n            <p>SEO text</p>\r\n            <textarea class=\"form-control\" placeholder=\"SEO text\" v-model=\"pagesStore.pagesList[id].data[pagesStore.pagesList[id].language.index].seoText\" />\r\n          </div>\r\n        </div>\r\n        <div class=\"page__content\" v-else-if=\"pagesStore.pagesList[id].name.includes('contacts')\">\r\n          <div class=\"page__content\" v-if=\"cinemasLoaded\">\r\n            <div class=\"page__content page__content-cinema\" v-for=\"(cinema, index) in cinemaStore.cinemaList\" :key=\"index\">\r\n              <div class=\"page__content-item\">\r\n                <p>Cinema title</p>\r\n                <input\r\n                    class=\"form-control\"\r\n                    type=\"text\" placeholder=\"Title\"\r\n                    v-model=\"cinema.data[pagesStore.pagesList[id].language.index].title\"\r\n                    disabled\r\n                >\r\n              </div>\r\n              <div class=\"page__content-item\">\r\n                <p>Address</p>\r\n                <textarea class=\"form-control\" placeholder=\"Address\" v-model=\"pagesStore.pagesList[id].data[pagesStore.pagesList[id].language.index].cinemas[index].address\" />\r\n              </div>\r\n              <div class=\"page__content-item\">\r\n                <p>Coordinate</p>\r\n                <input\r\n                    class=\"form-control\"\r\n                    type=\"text\" placeholder=\"Coordinate\"\r\n                    v-model=\"pagesStore.pagesList[id].data[pagesStore.pagesList[id].language.index].cinemas[index].coordinate\"\r\n                >\r\n              </div>\r\n              <div class=\"page__content-item\">\r\n                <p>Logo</p>\r\n                <img class=\"image__preview\" src=\"@/assets/images/image-icon.png\" alt=\"\" v-if=\"cinema.images[pagesStore.pagesList[id].language.index].logo.url === null\">\r\n                <img class=\"image__preview\" :src=\"cinema.images[pagesStore.pagesList[id].language.index].logo.url\" alt=\"\" v-else>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"page__content\" v-else>\r\n            <p>Cinemas not found. Create cinemas first</p>\r\n            <router-link :to=\"{name: 'AdminCinemas'}\">Go to cinemas page</router-link>\r\n          </div>\r\n        </div>\r\n        <div class=\"page__content\" v-else-if=\"!pagesStore.pagesList[id].name.includes('movies') && !pagesStore.pagesList[id].name.includes('schedule') && !pagesStore.pagesList[id].name.includes('upcoming') && !pagesStore.pagesList[id].name.includes('cinemas') && !pagesStore.pagesList[id].name.includes('specials') && !pagesStore.pagesList[id].name.includes('news')\">\r\n          <div class=\"page__content-item\">\r\n            <p>Description</p>\r\n            <textarea class=\"form-control\" placeholder=\"Description\" v-model=\"pagesStore.pagesList[id].data[pagesStore.pagesList[id].language.index].description\" />\r\n          </div>\r\n          <div class=\"page__content-item\">\r\n            <p>Main image</p>\r\n            <ImageInput\r\n                :input=\"pagesStore.pagesList[id].images[pagesStore.pagesList[id].language.index].main\"\r\n                @getImage=\"addMainImage\"\r\n            />\r\n          </div>\r\n          <div class=\"page__content-item\">\r\n            <p>Gallery</p>\r\n            <ImageGallery\r\n                :gallery=\"pagesStore.pagesList[id].images[pagesStore.pagesList[id].language.index].gallery\"\r\n                @getImage=\"addImage\"\r\n                @deleteImage=\"deleteImage\"\r\n            />\r\n          </div>\r\n        </div>\r\n        <div class=\"page__content-item\">\r\n          <SeoInputs\r\n              v-model:url=\"pagesStore.pagesList[id].data[pagesStore.pagesList[id].language.index].seo.url\"\r\n              v-model:title=\"pagesStore.pagesList[id].data[pagesStore.pagesList[id].language.index].seo.title\"\r\n              v-model:keywords=\"pagesStore.pagesList[id].data[pagesStore.pagesList[id].language.index].seo.keywords\"\r\n              v-model:description=\"pagesStore.pagesList[id].data[pagesStore.pagesList[id].language.index].seo.description\"\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <button class=\"btn btn-primary\" @click=\"pagesStore.uploadPage(id)\">Save</button>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport {onBeforeMount, ref, watch} from \"vue\";\r\nimport {usePagesStore} from \"@/stores/pages\";\r\nimport TheLoading from \"@/components/admin/TheLoading\";\r\nimport ImageInput from \"@/components/admin/ImageInput\";\r\nimport ImageGallery from \"@/components/admin/ImageGallery\";\r\nimport SeoInputs from \"@/components/admin/SeoInputs\";\r\nimport {useCinemaStore} from \"@/stores/cinemas\";\r\nimport {useRouter} from \"vue-router\";\r\n\r\nconst router = useRouter();\r\n\r\nconst pagesStore = usePagesStore();\r\nconst cinemaStore = useCinemaStore();\r\n\r\n\r\nconst props = defineProps(['id', 'parent']);\r\n\r\nconst cinemasLoaded = ref(false);\r\nonBeforeMount(() => {\r\n  if (pagesStore.pagesList[props.id].name.includes('contacts')) {\r\n    cinemasLoaded.value = false;\r\n    cinemaStore.getCinemas().then(() => {\r\n      for (let i = 0; i < pagesStore.pagesList[props.id].data.length; i++) {\r\n        // get cinemas for contacts page\r\n        if (pagesStore.pagesList[props.id].name.includes('contacts')) {\r\n          if (cinemaStore.cinemaList.length > 0) {\r\n            for (let j = 0; j < cinemaStore.cinemaList.length; j++) {\r\n              pagesStore.pagesList[props.id].data[i].cinemas.push({\r\n                name: cinemaStore.cinemaList[j].name,\r\n                address: '',\r\n                coordinate: ''\r\n              });\r\n            }\r\n            // remove dublicates\r\n            const uniqueNames = [];\r\n            pagesStore.pagesList[props.id].data[i].cinemas = pagesStore.pagesList[props.id].data[i].cinemas.filter(element => {\r\n              const isDuplicate = uniqueNames.includes(element.name);\r\n              if (!isDuplicate) {\r\n                uniqueNames.push(element.name);\r\n                return true;\r\n              }\r\n              return false;\r\n            });\r\n            // check if cinemas were deleted\r\n            let result = pagesStore.pagesList[props.id].data[i].cinemas.filter(o1 => !cinemaStore.cinemaList.some(o2 => o1.name === o2.name));\r\n            for (let j = 0; j < pagesStore.pagesList[props.id].data[i].cinemas.length; j++) {\r\n              if (result.length > 0) {\r\n                for (let k = 0; k < result.length; k++) {\r\n                  if (pagesStore.pagesList[props.id].data[i].cinemas[j].name === result[k].name) {\r\n                    pagesStore.pagesList[props.id].data[i].cinemas.splice(j, 1);\r\n                  }\r\n                }\r\n              }\r\n            }\r\n          }\r\n          else {\r\n            pagesStore.pagesList[props.id].data[i].cinemas = [];\r\n          }\r\n        }\r\n      }\r\n      cinemasLoaded.value = true;\r\n    });\r\n  }\r\n})\r\n\r\nwatch(() => pagesStore.pagesList[props.id].language.selected, () => {\r\n  if (pagesStore.pagesList[props.id].language.selected === 'en') {\r\n    pagesStore.pagesList[props.id].language.index = 0;\r\n  }\r\n  else {\r\n    pagesStore.pagesList[props.id].language.index = 1;\r\n  }\r\n});\r\nfunction addMainImage(image) {\r\n  let lang = pagesStore.pagesList[props.id].language.index;\r\n  if (lang === 0) {\r\n    pagesStore.pagesList[props.id].data[lang].main.name = pagesStore.pagesList[props.id].images[lang].main.name = pagesStore.pagesList[props.id].name + \"-en\";\r\n  }\r\n  else {\r\n    pagesStore.pagesList[props.id].data[lang].main.name = pagesStore.pagesList[props.id].images[lang].main.name = pagesStore.pagesList[props.id].name + \"-ua\";\r\n  }\r\n  pagesStore.pagesList[props.id].images[lang].main.image = image;\r\n  pagesStore.pagesList[props.id].images[lang].main.url = URL.createObjectURL(image);\r\n  pagesStore.pagesList[props.id].images[lang].main.uploaded = false;\r\n}\r\nfunction addImage(image) {\r\n  let lang = pagesStore.pagesList[props.id].language.index;\r\n  let i = pagesStore.pagesList[props.id].data[lang].gallery.length;\r\n  if (lang === 0) {\r\n    pagesStore.pagesList[props.id].data[lang].gallery.push({\r\n      id: i,\r\n      name: pagesStore.pagesList[props.id].name + '-' + Date.now() + '-en',\r\n      url: null\r\n    });\r\n  }\r\n  else {\r\n    pagesStore.pagesList[props.id].data[lang].gallery.push({\r\n      id: i,\r\n      name: pagesStore.pagesList[props.id].name + '-' + Date.now() + '-ua',\r\n      url: null\r\n    });\r\n  }\r\n  pagesStore.pagesList[props.id].images[lang].gallery.push({\r\n    id: i,\r\n    name: pagesStore.pagesList[props.id].data[lang].gallery[i].name,\r\n    uploaded: false,\r\n    image: image,\r\n    url: URL.createObjectURL(image)\r\n  });\r\n}\r\nfunction deleteImage(index) {\r\n  let lang = pagesStore.pagesList[props.id].language.index;\r\n  if (pagesStore.pagesList[props.id].images[lang].gallery[index].uploaded) {\r\n    pagesStore.pagesList[props.id].images[lang].deleted.push(pagesStore.pagesList[props.id].images[lang].gallery[index].name)\r\n  }\r\n  pagesStore.pagesList[props.id].data[lang].gallery.splice(index, 1);\r\n  pagesStore.pagesList[props.id].images[lang].gallery.splice(index, 1);\r\n  for (let i = 0; i < pagesStore.pagesList[props.id].images[lang].gallery.length; i++) {\r\n    if (pagesStore.pagesList[props.id].images[lang].gallery[i].id !== i) {\r\n      pagesStore.pagesList[props.id].data[lang].gallery[i].id = pagesStore.pagesList[props.id].images[lang].gallery[i].id = i;\r\n    }\r\n  }\r\n}\r\n\r\nwatch(() => pagesStore.uploaded, (value) => {\r\n  if (value) {\r\n    router.go(-1);\r\n  }\r\n});\r\n</script>\r\n\r\n<script>\r\nexport default {\r\n  name: \"AdminPage\"\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.page {\r\n  padding: 40px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  gap: 20px;\r\n}\r\n.page__controls {\r\n  width: 100%;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n.page__languages {\r\n  display: flex;\r\n}\r\n\r\n.page__wrapper {\r\n  width: 100%;\r\n  padding: 20px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  gap: 50px;\r\n}\r\n.page__content {\r\n  width: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 20px;\r\n}\r\n.page__content-item {\r\n  width: 100%;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 10px;\r\n}\r\n\r\n.page__content-item p {\r\n  min-width: 90px;\r\n}\r\n.phone p {\r\n  width: 90px;\r\n}\r\n.phone__inputs {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 10px;\r\n  width: 100%;\r\n}\r\n\r\n.page__content-cinema {\r\n  padding: 20px;\r\n  border-radius: 15px;\r\n  border: 1px solid black;\r\n}\r\n\r\n.image__preview {\r\n  max-width: 130px;\r\n}\r\n\r\np, label {\r\n  margin: 0;\r\n}\r\ninput {\r\n  max-width: 500px;\r\n}\r\n</style>","import script from \"./AdminPage.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./AdminPage.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./AdminPage.vue?vue&type=style&index=0&id=072dcbf8&scoped=true&lang=css\"\n\nimport exportComponent from \"S:\\\\Projects\\\\kino-cms\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-072dcbf8\"]])\n\nexport default __exports__"],"names":["usePagesStore","defineStore","id","state","loading","pagesList","showModal","uploaded","actions","async","this","pagesData","getDocs","collection","db","forEach","doc","includes","push","length","name","creationDate","data","status","language","routeName","images","main","image","url","gallery","deleted","page","i","j","deleteDoc","delRef","ref","storage","deleteObject","catch","error","console","splice","mainRef","uploadBytes","then","getDownloadURL","e","galleryRef","uploadPageData","docData","setDoc","galleryImagesSelected","input","target","files","emit","__exports__","imageSelected","file","class","_createElementVNode","_hoisted_2","_createElementBlock","_hoisted_1","render","router","useRouter","pagesStore","cinemaStore","useCinemaStore","cinemasLoaded","addMainImage","lang","props","index","URL","createObjectURL","addImage","Date","now","deleteImage","onBeforeMount","value","getCinemas","cinemaList","cinemas","address","coordinate","uniqueNames","filter","element","isDuplicate","result","o1","some","o2","k","watch","selected","go"],"sourceRoot":""}