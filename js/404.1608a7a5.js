"use strict";(self["webpackChunkkino_cms"]=self["webpackChunkkino_cms"]||[]).push([[596],{89:function(e,a){a.Z=(e,a)=>{const t=e.__vccOpts||e;for(const[i,s]of a)t[i]=s;return t}},6463:function(e,a,t){t.d(a,{i:function(){return o}});t(7658);var i=t(1020),s=t(1294),n=t(7329),l=t(36);const o=(0,i.Q_)({id:"Banners",state:()=>({movieBanners:{data:[],banners:[],deletedBanners:[],rotationSpeed:0},background:{selected:"",banner:{name:"",url:null},file:null,color:""},newsBanners:{data:[],banners:[],deletedBanners:[],rotationSpeed:0},loading:!1}),actions:{async getMovieBanners(){this.loading=!0,this.movieBanners.data=[],this.movieBanners.banners=[],this.movieBanners.deletedBanners=[];const e=(0,l.JU)(n.db,"banners","movies"),a=await(0,l.QT)(e);if(a.exists()){this.movieBanners.rotationSpeed=a.data().rotationSpeed,this.movieBanners.data=a.data().data;for(let e=0;e<this.movieBanners.data.length;e++)this.movieBanners.banners.push({id:e,uploaded:!0,image:null,url:this.movieBanners.data[e].image})}this.loading=!1},deleteMovieBanner(e){this.movieBanners.banners[e].uploaded&&this.movieBanners.deletedBanners.push(this.movieBanners.data[e].name),this.movieBanners.banners.splice(e,1),this.movieBanners.data.splice(e,1);for(let a=0;a<this.movieBanners.data.length;a++)this.movieBanners.data[a].id!==a&&this.movieBanners.banners[a].id!==a&&(this.movieBanners.data[a].id=this.movieBanners.banners[a].id=a)},async uploadMovieBanners(){if(this.loading=!0,0!==this.movieBanners.deletedBanners.length)for(let a=0;a<this.movieBanners.deletedBanners.length;a++){const e=(0,s.iH)(n.tO,"banners/movies/"+this.movieBanners.deletedBanners[a]);await(0,s.oq)(e).then((()=>{this.movieBanners.deletedBanners.splice(a,1)})).catch((e=>{console.error(e)}))}for(let a=0;a<this.movieBanners.banners.length;a++)if(null!==this.movieBanners.banners[a].image)try{const e=(0,s.iH)(n.tO,"banners/movies/"+this.movieBanners.data[a].name);await(0,s.KV)(e,this.movieBanners.banners[a].image).then((async()=>{await(0,s.Jt)(e).then((e=>{this.movieBanners.data[a].image=e}))}))}catch(e){console.error("Error uploading banners: ",e)}for(let a=0;a<this.movieBanners.data.length;a++)a===this.movieBanners.data.length-1&&null!==this.movieBanners.data[a].image&&this.uploadMoviesData()},async uploadMoviesData(){const e={data:this.movieBanners.data,rotationSpeed:this.movieBanners.rotationSpeed};await(0,l.pl)((0,l.JU)(n.db,"banners","movies"),e).then((()=>{this.loading=!1}))},async getBackground(){this.loading=!0,this.background.selected="",this.background.banner.name="",this.background.color="",this.background.banner.image=null,this.background.file=null;const e=(0,l.JU)(n.db,"banners","background"),a=await(0,l.QT)(e);a.exists()?(this.background.selected=a.data().selected,this.background.banner=a.data().banner,this.background.color=a.data().color):(this.background.banner.name="banner-"+Date.now(),this.background.color="#121212"),this.loading=!1},async uploadBackground(){if(this.loading=!0,null!==this.background.file)try{const e=(0,s.iH)(n.tO,"banners/background/"+this.background.banner.name);await(0,s.KV)(e,this.background.file).then((async()=>{await(0,s.Jt)(e).then((e=>{this.background.banner.url=e,this.uploadBackgrondData()}))}))}catch(e){console.error("Error uploading banners: ",e)}else this.uploadBackgrondData()},async uploadBackgrondData(){try{await(0,l.pl)((0,l.JU)(n.db,"banners","background"),{selected:this.background.selected,banner:this.background.banner,color:this.background.color})}catch(e){console.error("Error uploading banners data: ",e)}this.loading=!1},async getNewsBanners(){this.loading=!0,this.newsBanners.data=[],this.newsBanners.banners=[],this.newsBanners.deletedBanners=[];const e=(0,l.JU)(n.db,"banners","news"),a=await(0,l.QT)(e);if(a.exists()){this.newsBanners.rotationSpeed=a.data().rotationSpeed,this.newsBanners.data=a.data().data;for(let e=0;e<this.newsBanners.data.length;e++)this.newsBanners.banners.push({id:e,uploaded:!0,image:null,url:this.newsBanners.data[e].image})}this.loading=!1},deleteNewsBanner(e){this.newsBanners.banners[e].uploaded&&this.newsBanners.deletedBanners.push(this.newsBanners.data[e].name),this.newsBanners.data.splice(e,1),this.newsBanners.banners.splice(e,1);for(let a=0;a<this.newsBanners.data.length;a++)this.newsBanners.data[a].id!==a&&this.newsBanners.banners[a].id!==a&&(this.newsBanners.data[a].id=this.newsBanners.banners[a].id=a)},async uploadNewsBanners(){if(this.loading=!0,0!==this.newsBanners.deletedBanners.length)for(let a=0;a<this.newsBanners.deletedBanners.length;a++){const e=(0,s.iH)(n.tO,"banners/news/"+this.newsBanners.deletedBanners[a]);await(0,s.oq)(e).then((()=>{this.newsBanners.deletedBanners.splice(a,1)})).catch((e=>{console.error(e)}))}for(let a=0;a<this.newsBanners.banners.length;a++)if(null!==this.newsBanners.banners[a].image)try{const e=(0,s.iH)(n.tO,"banners/news/"+this.newsBanners.data[a].name);await(0,s.KV)(e,this.newsBanners.banners[a].image).then((async()=>{await(0,s.Jt)(e).then((async e=>{this.newsBanners.data[a].image=e}))}))}catch(e){console.error("Error uploading banners: ",e)}for(let a=0;a<this.newsBanners.data.length;a++)a===this.newsBanners.data.length-1&&null!==this.newsBanners.data[a].image&&this.uploadNewsData()},async uploadNewsData(){const e={data:this.newsBanners.data,rotationSpeed:this.newsBanners.rotationSpeed};await(0,l.pl)((0,l.JU)(n.db,"banners","news"),e).then((()=>{this.loading=!1}))}}})},685:function(e,a,t){t.d(a,{s:function(){return o}});t(7658);var i=t(1020),s=t(1294),n=t(7329),l=t(36);const o=(0,i.Q_)({id:"Movies",state:()=>({movieList:[],upcomingList:[],loading:!1,showModal:!1,showUpcomingModal:!1,uploaded:!1}),actions:{async getMovies(){this.movieList=[],this.loading=!0;const e=await(0,l.PL)((0,l.hJ)(n.db,"movies"));e.forEach((e=>{this.movieList.push({id:this.movieList.length,name:e.id,uploaded:!0,language:e.data().language,data:e.data().data,images:[{main:{name:e.data().data[0].main.name,image:null,url:e.data().data[0].main.url},gallery:[],deleted:[]},{main:{name:e.data().data[1].main.name,image:null,url:e.data().data[1].main.url},gallery:[],deleted:[]}]})})),this.movieList.forEach((e=>{for(let a=0;a<e.data.length;a++)for(let t=0;t<e.data[a].gallery.length;t++)e.images[a].gallery.push({id:e.images[a].gallery.length,name:e.data[a].gallery[t].name,uploaded:!0,image:null,url:e.data[a].gallery[t].url})})),this.loading=!1},addMovie(e){this.movieList.push(e)},async deleteMovie(e){if(this.showModal=!1,this.loading=!0,this.movieList[e].uploaded){await(0,l.oe)((0,l.JU)(n.db,"movies",this.movieList[e].name));for(let a=0;a<this.movieList[e].images.length;a++){if(null!==this.movieList[e].images[a].main.name){const t=(0,s.iH)(n.tO,"movies/main/"+this.movieList[e].images[a].main.name);await(0,s.oq)(t).catch((e=>{console.error(e)}))}if(0!==this.movieList[e].images[a].gallery.length)for(let t=0;t<this.movieList[e].images[a].gallery.length;t++){const i=(0,s.iH)(n.tO,"movies/gallery/"+this.movieList[e].images[a].gallery[t].name);await(0,s.oq)(i).catch((e=>{console.error(e)}))}if(0!==this.movieList[e].images[a].deleted.length)for(let t=0;t<this.movieList[e].images[a].deleted.length;t++){const i=(0,s.iH)(n.tO,"movies/gallery/"+this.movieList[e].images[a].deleted[t].name);await(0,s.oq)(i).catch((e=>{console.error(e)}))}}}this.movieList.splice(e,1);for(let a=0;a<this.movieList.length;a++)this.movieList[a].id!==a&&(this.movieList[a].id=a);this.loading=!1},async uploadMovie(e){this.loading=!0,this.uploaded=!1;for(let t=0;t<this.movieList[e].images.length;t++){if(null!==this.movieList[e].images[t].main.image)try{const a=(0,s.iH)(n.tO,"movies/main/"+this.movieList[e].images[t].main.name);await(0,s.KV)(a,this.movieList[e].images[t].main.image).then((async()=>{await(0,s.Jt)(a).then((a=>{this.movieList[e].data[t].main.url=a}))}))}catch(a){console.error("Error uploading image: ",a)}if(0!==this.movieList[e].images[t].deleted.length)for(let a=0;a<this.movieList[e].images[t].deleted.length;a++){const i=(0,s.iH)(n.tO,"movies/gallery/"+this.movieList[e].images[t].deleted[a]);await(0,s.oq)(i).then((()=>{this.movieList[e].images[t].deleted.splice(a,1)})).catch((e=>{console.error(e)}))}if(this.movieList[e].images[t].gallery.length)for(let i=0;i<this.movieList[e].images[t].gallery.length;i++)if(null!==this.movieList[e].images[t].gallery[i].image)try{const a=(0,s.iH)(n.tO,"movies/gallery/"+this.movieList[e].images[t].gallery[i].name);await(0,s.KV)(a,this.movieList[e].images[t].gallery[i].image).then((async()=>{await(0,s.Jt)(a).then((a=>{this.movieList[e].data[t].gallery[i].url=a}))}))}catch(a){console.error("Error uploading image: ",a)}}for(let t=0;t<this.movieList[e].data.length;t++)for(let a=0;a<this.movieList[e].data[t].gallery.length;a++)null!==this.movieList[e].data[t].gallery[a].url&&a===this.movieList[e].data[t].gallery.length-1&&t===this.movieList[e].data.length-1&&this.uploadMovieData(e)},async uploadMovieData(e){const a={language:this.movieList[e].language,data:this.movieList[e].data};await(0,l.pl)((0,l.JU)(n.db,"movies",this.movieList[e].name),a).then((()=>{this.loading=!1,this.uploaded=!0}))},async resetMovie(e){if(this.loading=!0,this.movieList[e].uploaded){for(let i=0;i<this.movieList[e].images.length;i++)this.movieList[e].images[i].main.name=null,this.movieList[e].images[i].main.image=null,this.movieList[e].images[i].main.url=null,this.movieList[e].images[i].gallery=[],this.movieList[e].images[i].deleted=[];const a=(0,l.JU)(n.db,"movies",this.movieList[e].name),t=await(0,l.QT)(a);if(t.exists()){this.movieList[e].data=t.data().data;for(let a=0;a<this.movieList[e].data.length;a++){this.movieList[e].images[a].main.name=this.movieList[e].data[a].main.name,this.movieList[e].images[a].main.url=this.movieList[e].data[a].main.url;for(let t=0;t<this.movieList[e].data[a].gallery.length;t++)this.movieList[e].images[a].gallery.push({id:this.movieList[e].data[a].gallery.length,name:this.movieList[e].data[a].gallery[t].name,uploaded:!0,image:null,url:this.movieList[e].data[a].gallery[t].url})}}}this.loading=!1},async getUpcoming(){this.upcomingList=[],this.loading=!0;const e=await(0,l.PL)((0,l.hJ)(n.db,"upcoming"));e.forEach((e=>{this.upcomingList.push({id:this.upcomingList.length,name:e.id,uploaded:!0,language:e.data().language,data:e.data().data,images:[{main:{name:e.data().data[0].main.name,image:null,url:e.data().data[0].main.url},gallery:[],deleted:[]},{main:{name:e.data().data[1].main.name,image:null,url:e.data().data[1].main.url},gallery:[],deleted:[]}]})})),this.upcomingList.forEach((e=>{for(let a=0;a<e.data.length;a++){for(let t=0;t<e.data[a].gallery.length;t++)e.images[a].gallery.push({id:e.images[a].gallery.length,name:e.data[a].gallery[t].name,uploaded:!0,image:null,url:e.data[a].gallery[t].url});"object"===typeof e.data[a].screeningDate&&(e.data[a].screeningDate=new Date(1e3*e.data[a].screeningDate.seconds))}})),this.loading=!1},addUpcoming(e){this.upcomingList.push(e)},async deleteUpcoming(e){if(this.showUpcomingModal=!1,this.loading=!0,this.upcomingList[e].uploaded){await(0,l.oe)((0,l.JU)(n.db,"upcoming",this.upcomingList[e].name));for(let a=0;a<this.upcomingList[e].images.length;a++){if(null!==this.upcomingList[e].images[a].main.name){const t=(0,s.iH)(n.tO,"upcoming/main/"+this.upcomingList[e].images[a].main.name);await(0,s.oq)(t).catch((e=>{console.error(e)}))}if(0!==this.upcomingList[e].images[a].gallery.length)for(let t=0;t<this.upcomingList[e].images[a].gallery.length;t++){const i=(0,s.iH)(n.tO,"upcoming/gallery/"+this.upcomingList[e].images[a].gallery[t].name);await(0,s.oq)(i).catch((e=>{console.error(e)}))}if(0!==this.upcomingList[e].images[a].deleted.length)for(let t=0;t<this.upcomingList[e].images[a].deleted.length;t++){const i=(0,s.iH)(n.tO,"upcoming/gallery/"+this.upcomingList[e].images[a].deleted[t].name);await(0,s.oq)(i).catch((e=>{console.error(e)}))}}}this.upcomingList.splice(e,1);for(let a=0;a<this.upcomingList.length;a++)this.upcomingList[a].id!==a&&(this.upcomingList[a].id=a);this.loading=!1},async uploadUpcoming(e){this.loading=!0,this.uploaded=!1;for(let t=0;t<this.upcomingList[e].images.length;t++){if(null!==this.upcomingList[e].images[t].main.image)try{const a=(0,s.iH)(n.tO,"upcoming/main/"+this.upcomingList[e].images[t].main.name);await(0,s.KV)(a,this.upcomingList[e].images[t].main.image).then((async()=>{await(0,s.Jt)(a).then((a=>{this.upcomingList[e].data[t].main.url=a}))}))}catch(a){console.error("Error uploading image: ",a)}if(0!==this.upcomingList[e].images[t].deleted.length)for(let a=0;a<this.upcomingList[e].images[t].deleted.length;a++){const i=(0,s.iH)(n.tO,"upcoming/gallery/"+this.upcomingList[e].images[t].deleted[a]);await(0,s.oq)(i).then((()=>{this.upcomingList[e].images[t].deleted.splice(a,1)})).catch((e=>{console.error(e)}))}for(let i=0;i<this.upcomingList[e].images[t].gallery.length;i++)if(null!==this.upcomingList[e].images[t].gallery[i].image)try{const a=(0,s.iH)(n.tO,"upcoming/gallery/"+this.upcomingList[e].images[t].gallery[i].name);await(0,s.KV)(a,this.upcomingList[e].images[t].gallery[i].image).then((async()=>{await(0,s.Jt)(a).then((a=>{this.upcomingList[e].data[t].gallery[i].url=a}))}))}catch(a){console.error("Error uploading image: ",a)}}for(let t=0;t<this.upcomingList[e].data.length;t++)for(let a=0;a<this.upcomingList[e].data[t].gallery.length;a++)null!==this.upcomingList[e].data[t].gallery[a].url&&a===this.upcomingList[e].data[t].gallery.length-1&&t===this.upcomingList[e].data.length-1&&this.uploadUpcomingData(e)},async uploadUpcomingData(e){const a={language:this.upcomingList[e].language,data:this.upcomingList[e].data};await(0,l.pl)((0,l.JU)(n.db,"upcoming",this.upcomingList[e].name),a).then((()=>{this.loading=!1,this.uploaded=!0}))},async resetUpcoming(e){if(this.loading=!0,this.upcomingList[e].uploaded){for(let i=0;i<this.upcomingList[e].images.length;i++)this.upcomingList[e].images[i].main.name=null,this.upcomingList[e].images[i].main.image=null,this.upcomingList[e].images[i].main.url=null,this.upcomingList[e].images[i].gallery=[],this.upcomingList[e].images[i].deleted=[];const a=(0,l.JU)(n.db,"upcoming",this.upcomingList[e].name),t=await(0,l.QT)(a);if(t.exists()){this.upcomingList[e].data=t.data().data;for(let a=0;a<this.upcomingList[e].data.length;a++){"object"===typeof this.upcomingList[e].data[a].date&&(this.upcomingList[e].data[a].date=new Date(1e3*this.upcomingList[e].data[a].date.seconds)),this.upcomingList[e].images[a].main.name=this.upcomingList[e].data[a].main.name,this.upcomingList[e].images[a].main.url=this.upcomingList[e].data[a].main.url;for(let t=0;t<this.upcomingList[e].data[a].gallery.length;t++)this.upcomingList[e].images[a].gallery.push({id:this.upcomingList[e].data[a].gallery.length,name:this.upcomingList[e].data[a].gallery[t].name,uploaded:!0,image:null,url:this.upcomingList[e].data[a].gallery[t].url})}}}this.loading=!1}}})},2660:function(e,a,t){t.d(a,{T:function(){return o}});t(7658);var i=t(1020),s=t(7329),n=t(36),l=t(1294);const o=(0,i.Q_)({id:"Pages",state:()=>({loading:!1,pagesList:[],showModal:!1,uploaded:!1}),actions:{async getPages(){this.loading=!0,this.pagesList=[];const e=await(0,n.PL)((0,n.hJ)(s.db,"pages"));e.forEach((e=>{e.id.includes("contacts")||e.id.includes("home")||e.id.includes("movies")||e.id.includes("schedule")||e.id.includes("upcoming")||e.id.includes("cinemas")||e.id.includes("specials")||e.id.includes("news")?this.pagesList.push({id:this.pagesList.length,name:e.id,uploaded:!0,creationDate:e.data().creationDate,status:e.data().status,language:e.data().language,routeName:e.data().routeName,data:e.data().data}):this.pagesList.push({id:this.pagesList.length,name:e.id,uploaded:!0,creationDate:e.data().creationDate,status:e.data().status,language:e.data().language,routeName:e.data().routeName,data:e.data().data,images:[{main:{name:e.data().data[0].main.name,image:null,url:e.data().data[0].main.url,uploaded:!0},gallery:[],deleted:[]},{main:{name:e.data().data[1].main.name,image:null,url:e.data().data[1].main.url,uploaded:!0},gallery:[],deleted:[]}]})})),this.pagesList.forEach((e=>{e.name.includes("page")||(e.id="default");for(let a=0;a<e.data.length;a++)if(e.data[a].gallery)for(let t=0;t<e.data[a].gallery.length;t++)e.images[a].gallery.push({id:e.images[a].gallery.length,name:e.data[a].gallery[t].name,uploaded:!0,image:null,url:e.data[a].gallery[t].url})})),this.loading=!1},async deletePage(e){if(this.showModal=!1,this.loading=!0,this.pagesList[e].uploaded){await(0,n.oe)((0,n.JU)(s.db,"pages",this.pagesList[e].name));for(let a=0;a<this.pagesList[e].images.length;a++){if(null!==this.pagesList[e].images[a].main.name){const t=(0,l.iH)(s.tO,"pages/main/"+this.pagesList[e].images[a].main.name);await(0,l.oq)(t).catch((e=>{console.error(e)}))}if(0!==this.pagesList[e].images[a].gallery.length)for(let t=0;t<this.pagesList[e].images[a].gallery.length;t++){const i=(0,l.iH)(s.tO,"pages/gallery/"+this.pagesList[e].images[a].gallery[t].name);await(0,l.oq)(i).catch((e=>{console.error(e)}))}if(0!==this.pagesList[e].images[a].deleted.length)for(let t=0;t<this.pagesList[e].images[a].deleted.length;t++){const i=(0,l.iH)(s.tO,"pages/gallery/"+this.pagesList[e].images[a].deleted[t].name);await(0,l.oq)(i).catch((e=>{console.error(e)}))}}}this.pagesList.splice(e,1);for(let a=0;a<this.pagesList.length;a++)this.pagesList[a].id!==a&&"default"!==this.pagesList[a].id&&(this.pagesList[a].id=a);this.loading=!1},async uploadPage(e){if(this.loading=!0,this.uploaded=!1,this.pagesList[e].images){for(let t=0;t<this.pagesList[e].images.length;t++){if(null!==this.pagesList[e].images[t].main.image)try{const a=(0,l.iH)(s.tO,"pages/main/"+this.pagesList[e].images[t].main.name);await(0,l.KV)(a,this.pagesList[e].images[t].main.image).then((async()=>{await(0,l.Jt)(a).then((a=>{this.pagesList[e].data[t].main.url=a}))}))}catch(a){console.error("Error uploading image: ",a)}if(0!==this.pagesList[e].images[t].deleted.length)for(let a=0;a<this.pagesList[e].images[t].deleted.length;a++){const i=(0,l.iH)(s.tO,"pages/gallery/"+this.pagesList[e].images[t].deleted[a]);await(0,l.oq)(i).then((()=>{this.pagesList[e].images[t].deleted.splice(a,1)})).catch((e=>{console.error(e)}))}if(0!==this.pagesList[e].images[t].gallery.length)for(let i=0;i<this.pagesList[e].images[t].gallery.length;i++)if(null!==this.pagesList[e].images[t].gallery[i].image)try{const a=(0,l.iH)(s.tO,"pages/gallery/"+this.pagesList[e].images[t].gallery[i].name);await(0,l.KV)(a,this.pagesList[e].images[t].gallery[i].image).then((async()=>{await(0,l.Jt)(a).then((a=>{this.pagesList[e].data[t].gallery[i].url=a}))}))}catch(a){console.error("Error uploading image: ",a)}}for(let a=0;a<this.pagesList[e].data.length;a++)for(let t=0;t<this.pagesList[e].data[a].gallery.length;t++)null!==this.pagesList[e].data[a].gallery[t].url&&t===this.pagesList[e].data[a].gallery.length-1&&a===this.pagesList[e].data.length-1&&this.uploadPageData(e)}else this.uploadPageData(e)},async uploadPageData(e){const a={creationDate:this.pagesList[e].creationDate,routeName:this.pagesList[e].routeName,status:this.pagesList[e].status,language:this.pagesList[e].language,data:this.pagesList[e].data};await(0,n.pl)((0,n.JU)(s.db,"pages",this.pagesList[e].name),a).then((()=>{this.loading=!1,this.uploaded=!0}))}}})},4323:function(e,a,t){t.d(a,{b:function(){return l}});t(7658);var i=t(1020),s=t(36),n=t(7329);const l=(0,i.Q_)({id:"Schedule",state:()=>({loading:!1,eventDate:null,selectedCinema:null,selectedHall:null,selectedMovie:null,moviePrice:null,scheduledEvents:[]}),actions:{async getSchedule(){this.loading=!0,this.scheduledEvents=[];const e=await(0,s.PL)((0,s.hJ)(n.db,"schedule"));e.forEach((e=>{this.scheduledEvents.push({id:this.scheduledEvents.length,name:e.id,title:e.data().title,start:e.data().start,end:e.data().end,selectedCinema:e.data().selectedCinema,selectedHall:e.data().selectedHall,selectedMovie:e.data().selectedMovie,moviePrice:e.data().moviePrice})}));for(let a=0;a<this.scheduledEvents.length;a++)"object"===typeof this.scheduledEvents[a].end&&(this.scheduledEvents[a].end=new Date(1e3*this.scheduledEvents[a].end.seconds));this.loading=!1},async deleteEvent(e){this.loading=!0,await(0,s.oe)((0,s.JU)(n.db,"schedule",this.scheduledEvents[e].name)),this.loading=!1},async uploadEvent(e){this.loading=!0;const a={title:`${this.scheduledEvents[e].selectedCinema} - ${this.scheduledEvents[e].selectedMovie}`,start:this.scheduledEvents[e].start,end:this.scheduledEvents[e].end,selectedCinema:this.scheduledEvents[e].selectedCinema,selectedHall:this.scheduledEvents[e].selectedHall,selectedMovie:this.scheduledEvents[e].selectedMovie,moviePrice:this.scheduledEvents[e].moviePrice};await(0,s.pl)((0,s.JU)(n.db,"schedule",this.scheduledEvents[e].name),a).then((()=>{this.loading=!1}))}}})},4675:function(e,a,t){t.r(a),t.d(a,{default:function(){return Q}});t(7658);var i=t(3396),s=t(4870),n=t(7139),l=t(8040),o=t(9391);const d={class:"container"},g=["src"],r={key:0,class:"movie-info__container"},h={name:"MainSwiper"};var m=Object.assign(h,{props:["gallery","rotation"],setup(e){const a=(0,s.iH)([o.pt]);return(t,o)=>{const h=(0,i.up)("router-link");return(0,i.wg)(),(0,i.iD)("div",d,[(0,i.Wm)((0,s.SU)(l.tq),{"slides-per-view":1,modules:a.value,"grab-cursor":"",autoplay:{delay:1e3*e.rotation,disableOnInteraction:!1}},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.gallery,(e=>((0,i.wg)(),(0,i.j4)((0,s.SU)(l.o5),{key:e.id},{default:(0,i.w5)((()=>[(0,i.Wm)(h,{to:e.url},{default:(0,i.w5)((()=>[(0,i._)("img",{src:e.image,alt:""},null,8,g),e.title?((0,i.wg)(),(0,i.iD)("div",r,[(0,i._)("h1",null,(0,n.zw)(e.title),1)])):(0,i.kq)("",!0)])),_:2},1032,["to"])])),_:2},1024)))),128))])),_:1},8,["modules","autoplay"])])}}}),c=t(89);const u=(0,c.Z)(m,[["__scopeId","data-v-7c71c38c"]]);var p=u,v=t(6463),L=t(685),y=t(2542),w=t(4323),f=t(2660);const b=e=>((0,i.dD)("data-v-1cc0fbdc"),e=e(),(0,i.Cn)(),e),B={class:"page"},_={key:0,class:"container"},D={class:"text-center mt-2 mb-2"},U={class:"movies mb-2"},k=["src"],E={class:"movie__content"},H={key:1,class:"container"},S={class:"text-center mt-2 mb-2"},M={class:"upcoming mb-2"},J=["src"],O={class:"movie__content"},q={class:"movie__content-date"},x=b((()=>(0,i._)("div",{class:"container"},[(0,i._)("h2",{class:"text-center mt-2 mb-2"},"News and special offers")],-1))),P={class:"container"},N=b((()=>(0,i._)("div",{class:"page__ad-horizontal"},null,-1))),K={name:"HomePage"};var C=Object.assign(K,{setup(e){const a=(0,y.h)(),t=(0,v.i)(),l=(0,w.b)(),o=(0,L.s)(),d=(0,f.T)();t.getMovieBanners(),t.getNewsBanners(),l.getSchedule(),o.getMovies(),o.getUpcoming();const g=(0,i.Fl)((()=>{let e=[],a=(new Date).setHours(0,0,0,0),t=l.scheduledEvents.filter((e=>a===new Date(e.start).setHours(0,0,0,0)));return t.length>0&&t.forEach((a=>{o.movieList.forEach((t=>{t.data[0].title===a.selectedMovie&&e.push(t)}))})),e})),r=(0,i.Fl)((()=>{let e=o.upcomingList;return e.sort(((e,t)=>e.data[a.currentLanguage.index].screeningDate-t.data[a.currentLanguage.index].screeningDate)).slice(0,4)}));function h(e,a){if(a.includes("schedule")){let t=null;return l.scheduledEvents.forEach((a=>{a.selectedMovie===e&&(t=a.name)})),a+t.replace("event-","")}return a+e.replace(/[^a-zA-Z0-9 ]/g,"").toLowerCase().replace(/\s/g,"-")}function m(e){let a=new Date(e).getDate(),t=new Date(e).getMonth()+1,i=new Date(e).getFullYear();return a<10&&(a="0"+a),t<10&&(t="0"+t),a+"."+t+"."+i}const c=(0,i.Fl)((()=>{let e=null;return d.pagesList.forEach((t=>{t.name.includes("home")&&(e=t.data[a.currentLanguage.index].seoText)})),e}));return(e,l)=>{const o=(0,i.up)("router-link");return(0,i.wg)(),(0,i.iD)("div",B,[(0,i.Wm)((0,s.SU)(p),{gallery:(0,s.SU)(t).movieBanners.data,rotation:(0,s.SU)(t).movieBanners.rotationSpeed},null,8,["gallery","rotation"]),(0,s.SU)(g).length>0?((0,i.wg)(),(0,i.iD)("div",_,[(0,i._)("h2",D,(0,n.zw)(e.$t("today")),1),(0,i._)("div",U,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)((0,s.SU)(g),((e,t)=>((0,i.wg)(),(0,i.j4)(o,{class:"movie",key:t,to:h(e.data[0].title,"schedule/")},{default:(0,i.w5)((()=>[(0,i._)("img",{class:"movie__img",src:e.data[(0,s.SU)(a).currentLanguage.index].main.url,alt:""},null,8,k),(0,i._)("div",E,[(0,i._)("p",null,(0,n.zw)(e.data[(0,s.SU)(a).currentLanguage.index].title),1)])])),_:2},1032,["to"])))),128))])])):(0,i.kq)("",!0),(0,s.SU)(r).length>0?((0,i.wg)(),(0,i.iD)("div",H,[(0,i._)("h2",S,(0,n.zw)(e.$t("soon")),1),(0,i._)("div",M,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)((0,s.SU)(r),((e,t)=>((0,i.wg)(),(0,i.j4)(o,{class:"movie",key:t,to:h(e.data[0].title,"upcoming/")},{default:(0,i.w5)((()=>[(0,i._)("img",{class:"movie__img",src:e.data[(0,s.SU)(a).currentLanguage.index].main.url,alt:""},null,8,J),(0,i._)("div",O,[(0,i._)("p",null,(0,n.zw)(e.data[(0,s.SU)(a).currentLanguage.index].title),1),(0,i._)("p",q,(0,n.zw)(m(e.data[(0,s.SU)(a).currentLanguage.index].screeningDate)),1)])])),_:2},1032,["to"])))),128))])])):(0,i.kq)("",!0),x,(0,i.Wm)((0,s.SU)(p),{gallery:(0,s.SU)(t).newsBanners.data,rotation:(0,s.SU)(t).newsBanners.rotationSpeed},null,8,["gallery","rotation"]),(0,i._)("div",P,[N,(0,i._)("p",null,(0,n.zw)((0,s.SU)(c)),1)])])}}});const z=(0,c.Z)(C,[["__scopeId","data-v-1cc0fbdc"]]);var Q=z}}]);
//# sourceMappingURL=404.1608a7a5.js.map